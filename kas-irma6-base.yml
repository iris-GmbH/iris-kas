# SPDX-License-Identifier: MIT
# Copyright (C) 2021 iris-GmbH infrared & intelligent sensors
#
#
# The KAS base configuration file for the irma6

header:
  version: 9
  includes:
    - "include/kas-irma6-base-config.yml"
    - "include/kas-targets.yml"

distro: "poky-iris"

local_conf_header:
  distro_version: |
    # adjust on release and reintegrate
    IRMA6_DISTRO_VERSION = "2.0.1-RC1"

defaults:
  repos:
    patches:
      repo: "this"

repos:
  # the iris-kas repo
  this:
    path: ""
  # iris-specific repos
  meta-iris-base:
    url: "https://github.com/iris-GmbH/meta-iris-base.git"
    refspec: "2.0.1"
  # general repos
  poky:
    url: "https://git.yoctoproject.org/git/poky"
    refspec: "28f080629b5151ffaedc6ea493063eb8480c3664"
    layers:
      meta:
      meta-poky:
    patches:
      001-fixup-repo-fetcher:
        path: "patches/0001-Implement-AUTOREV-for-repo-fetcher.patch"
  meta-openembedded:
    url: "https://git.openembedded.org/meta-openembedded"
    refspec: "3cf22d15885cf0e3e16078705e9a20f3d21f12db"
    layers:
      meta-oe:
      meta-python:
      meta-networking:
    patches:
      add-repo-recipe:
        path: "patches/0001-Add-recipe-for-repo-2.16.7.patch"
  meta-ros: # provides yaml-cpp
    url: "https://github.com/ros/meta-ros.git"
    refspec: "b8e15561d21aef03dc4359d20b96fd4cc2f5351d"
    layers:
      meta-ros-backports-gatesgarth:
      meta-ros-backports-hardknott:
      meta-ros-common:

  # repos relevant for testing
  meta-java:
    url: "https://git.yoctoproject.org/git/meta-java"
    refspec: "6e84638d77ac921aac46649095bca5ddbde94d2a"
  meta-clang:
    url: "https://github.com/kraj/meta-clang.git"
    refspec: "52c7b51ab9ebe426a77559802333d8479864912e"

  # irma6 HWv1 repos
  lnxdsp-adi-meta:
    url: "https://github.com/analogdevicesinc/lnxdsp-adi-meta.git"
    refspec: "ad2203c11723b07727589a8eebe33f3129cc236a"
    layers:
      meta-adi-adsp-sc5xx:
      meta-adi-external-toolchain:

  # irma6 HWv2 repos
  meta-freescale:
    url: "https://github.com/Freescale/meta-freescale.git"
    refspec: "dunfell"
  meta-freescale-3rdparty:
    url: "https://github.com/Freescale/meta-freescale-3rdparty"
    refspec: "dunfell"
  meta-freescale-distro:
    url: "https://github.com/Freescale/meta-freescale-distro"
    refspec: "dunfell"
